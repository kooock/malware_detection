import re
import dir
import count

def extract_unigram(path):
    f = open(path,'r')
    data = f.read()
    f.close()
    return re.split('\W+', data)

def extract_unigram_dir(dir_path):
    filenames = dir.filenames_in_dir(dir_path)

    unigrams_list = []
    for filename in filenames:
        unigrams_list.append(extract_unigram(filename))
    return unigrams_list

def extract_most_appeared_unigrams_dir(target_dir,count_num):
    unigrams_list = extract_unigram_dir(target_dir)
    counting_dict={}
    for unigrams in unigrams_list:
        count.count_single_list(unigrams,counting_dict)
    top_list = count.most_appreared_in_dict(dict=counting_dict,top_num=count_num)
    return top_list,unigrams_list

